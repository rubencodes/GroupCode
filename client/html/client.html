<head>
	<title>GroupCodes</title>
	<meta name="viewport" content="width=device-width">
	<link rel="icon" href="GroupCode2.png"/>
	<link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:500,600' rel='stylesheet' type='text/css'>
	<script src="http://simplewebrtc.com/latest.js"></script> 
</head>

<body class="box">
	{{> nav}}

	{{>Router}}
</body>

<template name="landing">
	<section class="section-img">
		<div class="container">
			<br><br>
			<div class="row">
				<h1>Welcome to GroupCodes<br><small>Free, collaborative code-editing rooms</small></h1>
			</div><br><br>
			<div class="row">
				<div class="col-md-6 col-md-offset-3">
					<div class="card">
<!--						<img src="placeit.jpg" class="mini-img">-->
						<h2>&lt;code&gt;</h2>
						<p>GroupCodes are free, collaborative code editing rooms designed to improve communication between team members during development. We use the open-source Ace code editor used by big-shots like Cloud9 to provide a first-class coding experience.</p>
					</div>
				</div>
				<div class="col-md-6 col-md-offset-3">
					<div class="card">
						<h2>&lt;collaborate&gt;</h2>
						<p>WebRTC, the same technology behind Skype and Google Hangouts, powers GroupCode's built-in video conferencing features. GroupCode's video chat is a fully-featured communications tool that's there when you need it and out of the way when it's go-time.</p>
					</div>
				</div>
				<div class="col-md-6 col-md-offset-3">
					<div class="card">
						<h2>&lt;live&gt;</h2>
						<p>GroupCodes are all about live, real-time communication, and that goes for code too. If you've seen Google Docs in action, you will feal right at home in a GroupCode. Use them for anything from coding with a partner to conducting a coding interview. <b>They're free!</b></p>
						<div class="btn-group" style="width: 100%">
							<button class="btn btn-success create-groupcode">Start a GroupCode</button>
							<div class="btn btn-success upload-groupcode">
								Start with File
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<section class="section-bg" style="background:rgb(51, 51, 51)">
		<p class="text-center footer">Copyright &copy; <a href="http://Ruben.Codes">Ruben.Codes</a> 2015</p>
	</section>
</template>

<template name="nav">
	<nav class="navbar navbar-inverse {{#if showVideoButtons}}navbar-fixed-bottom{{/if}}" style="z-index: 10;">
	  <div class="container-fluid">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
		  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
			<span class="sr-only">Toggle navigation</span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		  </button>
		  <a class="navbar-brand"><img id="navbar-img" src="GroupCode.png"><b>{{name}}</b></a>
		</div>
		{{#if showVideoButtons}}
		  <ul class="nav navbar-nav navbar-right hidden-xs">
			  <li>
			  	<select class="navbar-btn">
					<option value="actionscript" 	ext="as">ActionScript</option>  
					<option value="batchfile" 	ext="bat">Batchfile</option>  
					<option value="c_cpp" 		ext="c">C</option>  
					<option value="c_cpp" 		ext="cpp">C++</option>  
					<option value="csharp" 		ext="cs">C#</option>  
					<option value="coffee" 		ext="coffee">CoffeeScript</option>  
					<option value="css" 		ext="css">CSS</option>  
					<option value="cobol" 		ext="cbl">Cobol</option>  
					<option value="d" 			ext="d">D</option>  
					<option value="dart" 		ext="dart">Dart</option>  
					<option value="django" 		ext="py">Django</option>  
					<option value="erlang" 		ext="erl">Erlang</option>  
					<option value="haml" 		ext="haml">HAML</option>  
					<option value="haskell" 	ext="hs">Haskell</option>  
					<option value="html" 		ext="html">HTML</option>  
					<option value="html_ruby" 	ext="erb">HTML/Ruby</option>  
					<option value="java" 		ext="java">Java</option>  
					<option value="json" 		ext="json">JSON</option>  
					<option value="javascript" 	ext="js" selected>Javascript</option>  
					<option value="markdown" 	ext="md">Markdown</option>  
					<option value="mysql" 		ext="sql">MySQL</option>  
					<option value="latex" 		ext="tex">LaTeX</option>  
					<option value="matlab" 		ext="mat">MatLab</option>  
					<option value="objectivec" 	ext="m">Objective-C</option>  
					<option value="pascal" 		ext="pas">Pascal</option>  
					<option value="perl" 		ext="pl">Perl</option>  
					<option value="php" 		ext="php">PHP</option>  
					<option value="prolog" 		ext="pl">Prolog</option>  
					<option value="python" 		ext="py">Python</option>  
					<option value="r" 			ext="r">R</option>  
					<option value="ruby"		ext="rb">Ruby</option>  
					<option value="sass"		ext="scss">SASS</option>  
					<option value="scala" 		ext="scala">Scala</option>  
					<option value="scheme" 		ext="scm">Scheme</option>  
					<option value="sh" 			ext="sh">SH</option>  
					<option value="sql" 		ext="sql">SQL</option>  
					<option value="svg" 		ext="svg">SVG</option>  
					<option value="text" 		ext="txt">Text</option>  
					<option value="vbscript" 	ext="vbs">VBScript</option>  
					<option value="yaml" 		ext="yaml">YAML</option>  
			  	</select>
			  </li>
			  <li><button id="download" class="btn btn-primary navbar-btn" title="Download File"><span class="glyphicon glyphicon-save"></span></button></li>
			  <li><button id="share" class="btn btn-primary navbar-btn" title="Share GroupCode via Email"><span class="glyphicon glyphicon-share"></span></button></li>
			  {{#if videoOngoing}}
				  {{#if videoShown}}
					<li><button id="hideVideoCall" class="btn btn-primary navbar-btn" title="Hide Video"><span class="glyphicon glyphicon-chevron-up"></span></button></li>
					<li><button id="stopVideoCall" class="btn btn-danger navbar-btn" title="Stop Video Call"><span class="glyphicon glyphicon-stop"></span></button></li>
				  {{else}}
					<li><button id="showVideoCall" class="btn btn-primary navbar-btn" title="Show Video"><span class="glyphicon glyphicon-chevron-down"></span></button></li>
					<li><button id="stopVideoCall" class="btn btn-danger navbar-btn" title="Stop Video Call"><span class="glyphicon glyphicon-stop"></span></button></li>
				  {{/if}}
			  {{else}}
				  <li><button id="startVideoCall" class="btn btn-danger navbar-btn" title="Join Video Call"><span class="glyphicon glyphicon-facetime-video"></span></button></li>
			  {{/if}}
		  </ul>
		{{else}}
		  <ul class="nav navbar-nav navbar-right hidden-xs">
			  <li>
				  <button class="btn btn-primary navbar-btn create-groupcode" title="Start a GroupCode">
					  <span class="glyphicon glyphicon-plus"></span>&nbsp;&nbsp;&nbsp;Start a GroupCode
				  </button>
			  </li>
			  <li>
				  <div class="btn btn-primary navbar-btn upload-groupcode" title="Start a GroupCode with File">
					<span class="glyphicon glyphicon-open"></span>&nbsp;&nbsp;&nbsp;Start with File
					<input type="file" id="files" name="files[]" />
				  </div>
			  </li>
		  </ul>
		{{/if}}
	  </div><!-- /.container-fluid -->
	</nav>
</template>

<template name="loading">
	<div class="centered">
		<div class="large progress"></div>
	</div>
</template>

<template name="master">
  <!-- Use `name` to add a custom class to the outer container -->
  {{#basicTabs name="" tabs=tabs}}
    <!--
      There are two ways to define content for your tabs:

      1. Wrap each tabbed section in a blank `<div></div>`.
         Sections must correspond with the order of the tabs you specified.

      2. Wrap each tabbed section in the provided block helper (RECOMMENDED!).
         `{{#tabContent slug="nameOfSlug"}} ... {{/tabContent}}`
         These can be defined in any order you like.
    -->
    {{#tabContent slug="people"}}
      <h2>People</h2>
      <button class="add-people">
        Add People
      </button>
    {{/tabContent}}

    {{#tabContent slug="places"}}
      <h2>Places</h2>
      <button class="add-places">
        Add Places
      </button>
    {{/tabContent}}

    {{#tabContent slug="things"}}
      <h2>Things</h2>
      <button class="add-things">
        Add Things
      </button>
    {{/tabContent}}

  {{/basicTabs}}
</template>

<template name="codeBox">
    {{> videoChat}}
	{{#if Template.subscriptionsReady}}
		{{> sharejsAce docid=docid onRender=config onConnect=fileUploaded id="codeBox"}}
	{{/if}}
</template>

<template name="videoChat">
	<div class="videoChatWrapper">
		<div id="remotesVideos"></div>
		<video height="300" width="300" id="localVideo"></video>
		<button id="audioControl" class="btn btn-success navbar-btn">
			<span class="glyphicon glyphicon-volume-up"></span>
		</button>
		<button id="videoControl" class="btn btn-success navbar-btn">
			<span class="glyphicon glyphicon-eye-open"></span>
		</button>
		<button id="sizeControl" class="btn btn-success navbar-btn">
			<span class="glyphicon glyphicon-resize-full"></span>
		</button>
	</div>
</template>

<template name="error">
	<section class="section-img" style="height:100vh">
		<h1 class="container">Uh-oh...This is not the GroupCode you are looking for!</h1>
		<div class="row">
			<div class="col-md-6 col-md-offset-3">
				<button id="create" class="btn btn-success btn-block"><h3>Start a New GroupCode</h3></button>
			</div>
		</div>
	</section>
</template>